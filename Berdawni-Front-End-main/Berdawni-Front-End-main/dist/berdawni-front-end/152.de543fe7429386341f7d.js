(self.webpackChunkberdawni_front_end=self.webpackChunkberdawni_front_end||[]).push([[152],{9152:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ComplaintsmanagementModule:()=>h});var i=n(8583),o=n(8307),a=n(6304),c=n(108),r=n(7716);function s(t,e){if(1&t&&(r.TgZ(0,"div",5),r.TgZ(1,"div",6),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.qZA(),r._UZ(4,"br"),r.TgZ(5,"div"),r.TgZ(6,"span"),r.TgZ(7,"b"),r._uU(8,"Empty Notifications"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw(2);r.xp6(3),r.hij(" ",t.today," ")}}function d(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"ul",8),r.TgZ(1,"li",9),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(3).updateNotif(e._id)}),r.TgZ(2,"div",10),r.TgZ(3,"div",11),r.TgZ(4,"b",12),r._uU(5),r.qZA(),r.TgZ(6,"time",13),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"div",14),r.TgZ(9,"p",15),r._uU(10),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw(3);r.xp6(1),r.Udp("background-color",t.isViewed?"white":"#b1b1b1"),r.xp6(4),r.Oqu(t.fullName),r.xp6(2),r.Oqu(n.getDate(t.date)+" "+n.getTime(t.date)),r.xp6(3),r.Oqu(t.message)}}function l(t,e){if(1&t&&(r.TgZ(0,"div"),r.YNc(1,d,11,5,"ul",7),r.qZA()),2&t){const t=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",t.complaint)}}function m(t,e){if(1&t&&(r.TgZ(0,"div",2),r.YNc(1,s,9,1,"div",3),r.YNc(2,l,2,1,"div",4),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngIf",0==t.complaint.length),r.xp6(1),r.Q6J("ngIf",t.complaint.length>0)}}const g=[{path:"",component:(()=>{class t{constructor(t){this._complaintsService=t,this.complaint=[],this.todayDate=new Date,this.today="",this.isLoading=!1}updateNotif(t){var e=this;return(0,a.Z)(function*(){if(!e.complaint.find(e=>e._id==t).isViewed){e.complaint.find(e=>e._id==t).isViewed=!0,yield e._complaintsService.viewComplaints(t).toPromise();let n=0;n=+localStorage.getItem("NbNotif"),n-=1,yield localStorage.setItem("NbNotif",n.toString())}})()}updateToday(){const t="EN".toLocaleLowerCase()+"-"+"EN".toLocaleUpperCase();this.today=this.todayDate.toLocaleDateString(t,{weekday:"long",day:"numeric",month:"long",year:"numeric"})}getDate(t){return t.toString().split("T")[0]}getTime(t){const e=new Date(t);return`${("0"+e.getHours()).slice(-2)}:${("0"+e.getMinutes()).slice(-2)}`}allcomplaints(){var t=this;return(0,a.Z)(function*(){t.isLoading=!0;const e=yield t._complaintsService.allComplaints().toPromise();e.result&&(t.complaint=e.body),t.isLoading=!1})()}ngOnInit(){var t=this;return(0,a.Z)(function*(){t.updateToday(),yield t.allcomplaints()})()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(c.G))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-complaintsmanagement"]],features:[r._Bn([c.G])],decls:2,vars:1,consts:[[1,"notifications-container","mt-2"],["class","notification-list",4,"ngIf"],[1,"notification-list"],["style","margin-top: auto; text-align: center;",4,"ngIf"],[4,"ngIf"],[2,"margin-top","auto","text-align","center"],[1,"date"],["class","chats-list mt-1",4,"ngFor","ngForOf"],[1,"chats-list","mt-1"],[1,"chats-item",3,"click"],["role","button","tabindex","0",1,"chats-item-button","js-chat-button"],[1,"chats-item-header"],[1,"chats-item-title"],[1,"chats-item-time"],[1,"chats-item-content"],[1,"chats-item-last"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.YNc(1,m,3,2,"div",1),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngIf",!e.isLoading))},directives:[i.O5,i.sg],styles:['[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px!important;height:6px!important;background-color:#5c9ec5;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0003}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#ffffff14}.chats[_ngcontent-%COMP%]{overflow-y:auto;scrollbar-width:thin;-webkit-overflow-scrolling:touch;background-color:var(--white)}.chats-item-button[_ngcontent-%COMP%]{display:grid;grid-template-columns:3.125rem 1fr;grid-column-gap:1rem;padding:0 1rem;cursor:pointer;grid-template-areas:"image header" "image content"}.chats-item-header[_ngcontent-%COMP%]{grid-area:header}.chats-item-content[_ngcontent-%COMP%]{grid-area:content}.chats-item[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]{flex-shrink:0;grid-area:image;margin:auto;border-radius:50%}.chats-item-header[_ngcontent-%COMP%]{display:block;display:flex;padding-top:.625rem}.chats-item-header[_ngcontent-%COMP%], .chats-item-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chats-item-title[_ngcontent-%COMP%]{display:block;flex:1;font-weight:700;margin-right:.625rem}.chats-item-time[_ngcontent-%COMP%]{font-size:12rem;opacity:.6}.chats-item-last[_ngcontent-%COMP%]{flex:1;opacity:.6;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow-wrap:break-word}.chats-item-content[_ngcontent-%COMP%]{display:flex;padding-bottom:.625rem}.chats-item-info[_ngcontent-%COMP%]{display:flex}.chats-item[_ngcontent-%COMP%]{border-radius:1rem;border-bottom:1px solid #d1d1d1}.divUpper[_ngcontent-%COMP%]{background-color:#fff;display:flex;justify-content:space-between;text-align:center;width:50%;height:2.5rem;border-radius:1rem 1rem 0 0;border-bottom:5px solid #24709440;margin:1rem auto auto;padding:0 1px}.notifications-container[_ngcontent-%COMP%]{margin:auto;width:50%;overflow-y:scroll;border:1px solid #d3d3d3;border-radius:0 0 .5rem .5rem;box-shadow:0 7px 29px 0 #64646f33}.chats-list[_ngcontent-%COMP%]{list-style-type:none;padding:0 10px}.date[_ngcontent-%COMP%]{text-align:center;background-color:#5c9ec5;color:#fff;border-radius:.5rem}.chats-item-time[_ngcontent-%COMP%]{font-size:1rem}.chats-item-header[_ngcontent-%COMP%]{margin-top:1rem;margin-left:.5rem}.chats-item-content[_ngcontent-%COMP%]{margin-left:.5rem}@media only screen and (max-width: 600px){.divUpper[_ngcontent-%COMP%], .notifications-container[_ngcontent-%COMP%]{width:80%}.chats-item-content[_ngcontent-%COMP%], .chats-item-header[_ngcontent-%COMP%]{font-size:1rem}.chats-item-time[_ngcontent-%COMP%]{font-size:.8rem}}@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (-webkit-min-device-pixel-ratio: 1){.divUpper[_ngcontent-%COMP%]{width:80%;margin-top:2rem}.notifications-container[_ngcontent-%COMP%]{width:80%}}@media only screen and (min-device-width: 320px) and (max-device-width: 480px) and (-webkit-min-device-pixel-ratio: 2){.divUpper[_ngcontent-%COMP%]{width:80%;margin-top:4rem}.notifications-container[_ngcontent-%COMP%]{width:80%}}']}),t})()}];let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.Bz.forChild(g)],o.Bz]}),t})();var f=n(2396);let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[i.ez,p,f.C]]}),t})()}}]);